import{a as R,b as H,d as K,g as W,i as Z,k as q,l as y,m as G,o as J,p as Q}from"./chunk-6BR3ZMNZ.js";import"./chunk-YTLBFBOB.js";import"./chunk-QUJFQN2Y.js";import"./chunk-MH7CFPBD.js";import"./chunk-5TU7THGR.js";import"./chunk-7ZJZNFFZ.js";import"./chunk-7FY2OE2O.js";import"./chunk-EVDUVP5F.js";import"./chunk-PDJQUGN2.js";import"./chunk-BJJUAZLX.js";import"./chunk-SPFMTZFH.js";import"./chunk-AUSCAZBD.js";import"./chunk-CKP3SGE2.js";import"./chunk-BO4K2FT5.js";import"./chunk-NHFRK4VP.js";import"./chunk-ZRL3L52X.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import{b as L}from"./chunk-DGLKXHYF.js";import"./chunk-GBVQOZWS.js";import{A as P,B as s,C as d,E as w,H as O,I as S,K as b,L as x,M as p,N as i,O as o,P as c,T as M,U as m,V as v,aa as u,ba as C,da as k,ea as I,fb as D,gb as V,hb as $,ib as A,ja as E,kb as B,lb as U,na as T,nb as N,oa as j,t as _,u as h,ya as z}from"./chunk-YY4OCJP3.js";import"./chunk-Y2PDZ72K.js";import{b as F}from"./chunk-RO7BUCPQ.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as g}from"./chunk-JHI3MBHO.js";function ee(r,a){if(r&1&&c(0,"img",23),r&2){let l=v().$implicit;p("src",l.photoData,P)}}function te(r,a){r&1&&c(0,"img",24)}function ie(r,a){if(r&1){let l=M();i(0,"div",14),m("click",function(){let e=_(l).$implicit,n=v();return h(n.selectCoffee(e))}),i(1,"div",15)(2,"div",16),u(3),k(4,"uppercase"),o(),i(5,"div",17),u(6),o(),i(7,"div",18)(8,"button",19),m("click",function(e){let n=_(l).$implicit;return v().editFlavour(n),h(e.stopPropagation())}),c(9,"ion-icon",20),o(),i(10,"button",19),m("click",function(e){let n=_(l).$implicit;return v().deleteFlavour(n),h(e.stopPropagation())}),c(11,"ion-icon",21),o()()(),i(12,"div",22),b(13,ee,1,1,"img",23)(14,te,1,0,"img",24),o()()}if(r&2){let l=a.$implicit;s(3),C(I(4,3,l.name)),s(3),C(l.barcode),s(7),x(l.photoData?13:14)}}function ne(r,a){r&1&&(i(0,"div",13),c(1,"ion-icon",25),i(2,"h2"),u(3,"No coffee available"),o(),i(4,"p"),u(5,"Sorry, no coffee flavours are available at the moment."),o()())}var _e=(()=>{let a=class a{constructor(t,e,n,f,X,Y){this.router=t,this.authService=e,this.alertController=n,this.db=f,this.zone=X,this.toast=Y,this.dbFlavours=[],R({cafe:K,refresh:Z,add:H,createOutline:W,trashOutline:q})}ionViewWillEnter(){this.dbFlavours=this.db.getFlavours().sort((t,e)=>t.name.localeCompare(e.name))}trackByFlavourId(t,e){return e.id}selectCoffee(t){}logout(){this.authService.logout(),this.router.navigateByUrl("/login",{replaceUrl:!0})}onSync(){return g(this,null,function*(){F.getPlatform()==="web"?yield(yield this.alertController.create({header:"Sync",message:"Syncing Completed!",buttons:[{text:"OK",handler:()=>{this.dbFlavours=this.db.getFlavours().sort((e,n)=>e.name.localeCompare(n.name))}}]})).present():(yield y.alert({title:"Sync",message:"Syncing Completed!"}),this.dbFlavours=this.db.getFlavours().sort((t,e)=>t.name.localeCompare(e.name)))})}onAdd(){return g(this,null,function*(){this.router.navigate(["manage-flavours"])})}editFlavour(t){this.router.navigate(["manage-flavours",t.id])}deleteFlavour(t){return g(this,null,function*(){if(this.dbFlavours.find(e=>e.id===t.id))if(F.getPlatform()==="web")yield(yield this.alertController.create({header:"Delete Flavour",message:`Are you sure you want to delete Flavour ${t.name}?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{this.zone.run(()=>{this.db.deleteFlavour(t.id),this.dbFlavours=this.db.getFlavours(),this.toast.success(`Flavour ${t.name} deleted`)})}}]})).present();else{let{value:e}=yield y.confirm({title:"Delete Flavour",message:`Are you sure you want to delete Flavour ${t.name}?`});e&&this.zone.run(()=>{this.db.deleteFlavour(t.id),this.dbFlavours=this.db.getFlavours(),this.toast.success(`Flavour ${t.name} deleted`)})}})}};a.\u0275fac=function(e){return new(e||a)(d(z),d(L),d(G),d(J),d(S),d(Q))},a.\u0275cmp=w({type:a,selectors:[["app-flavours"]],decls:19,vars:4,consts:[[3,"translucent"],[1,"toolbar-brown"],["slot","start"],["fill","clear",1,"circle-btn",3,"click"],["name","refresh"],["slot","end"],["name","add"],[1,"toolbar-shadow"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"flavours-list"],["class","flavour-card",3,"click",4,"ngFor","ngForOf"],[1,"empty-state"],[1,"flavour-card",3,"click"],[1,"flavour-left"],[1,"flavour-name"],[1,"flavour-code"],[1,"flavour-actions"],[1,"action-btn",3,"click"],["name","create-outline"],["name","trash-outline"],[1,"flavour-right"],["alt","Coffee",3,"src"],["src","assets/images/Coffee.png","alt","Coffee"],["name","cafe","size","large"]],template:function(e,n){e&1&&(i(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),m("click",function(){return n.onSync()}),c(4,"ion-icon",4),o()(),i(5,"ion-title"),u(6,"COFFEE FLAVOURS"),o(),i(7,"ion-buttons",5)(8,"ion-button",3),m("click",function(){return n.onAdd()}),c(9,"ion-icon",6),o()()(),c(10,"ion-toolbar",7),o(),i(11,"ion-content",8)(12,"ion-header",9)(13,"ion-toolbar")(14,"ion-title",10),u(15,"Coffee Flavours"),o()()(),i(16,"div",11),O(17,ie,15,5,"div",12),b(18,ne,6,0,"div",13),o()()),e&2&&(p("translucent",!0),s(11),p("fullscreen",!0),s(6),p("ngForOf",n.dbFlavours),s(),x(n.dbFlavours.length===0?18:-1))},dependencies:[j,E,$,A,B,U,D,N,V,T],styles:[".toolbar-brown[_ngcontent-%COMP%]{--background: #7a412d;--color: #ffffff;--border-width: 0;text-transform:uppercase;letter-spacing:.5px}.toolbar-shadow[_ngcontent-%COMP%]{--background: #7a412d;height:4px;box-shadow:inset 0 -4px #5f2f1f}.circle-btn[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;background:#ffffff26;display:flex;align-items:center;justify-content:center}.flavours-content[_ngcontent-%COMP%]{--background: #f6f6f6}.flavours-list[_ngcontent-%COMP%]{padding:12px}.flavour-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e6e6e6;border-radius:2px;padding:12px;display:flex;align-items:center;justify-content:space-between;margin:12px 4px}.flavour-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.flavour-name[_ngcontent-%COMP%]{font-weight:700;color:#7a412d}.flavour-code[_ngcontent-%COMP%]{font-size:12px;color:#9aa0a6}.flavour-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:6px}.flavour-actions[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;color:#9aa0a6;fill:#9aa0a6;width:24px!important;height:24px!important}.action-btn[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:3px;background:#fff;display:inline-flex;align-items:center;justify-content:center}.flavour-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.dev-instructions[_ngcontent-%COMP%]{padding:12px 16px 28px;color:#8f8f8f;font-size:12px}.dev-instructions[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#b3b3b3;text-transform:uppercase}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--ion-color-medium)}"]});let r=a;return r})();export{_e as FlavoursPage};
