import{a as F,b as O}from"./chunk-DGLKXHYF.js";import{a as X,b,c as L}from"./chunk-GBVQOZWS.js";import{Aa as D,Ba as H,E,N as v,O as I,P as w,cb as P,db as $,eb as M,f as u,g as f,h as g,k as m,mb as k,n as h,pa as y,r as i,ra as R,sa as l,ua as T,va as x,xa as S,ya as A,za as C}from"./chunk-YY4OCJP3.js";import"./chunk-Y2PDZ72K.js";import"./chunk-RO7BUCPQ.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var c=()=>{let t=i(O),e=i(A);return t.isLoggedInSync?!0:e.createUrlTree(["/login"])};var U=[{path:"",loadComponent:()=>import("./chunk-SKKX2NGK.js").then(t=>t.SplashPage)},{path:"login",loadComponent:()=>import("./chunk-KMBLDIUW.js").then(t=>t.LoginPage)},{path:"flavours",canActivate:[c],loadComponent:()=>import("./chunk-XOJQP5IC.js").then(t=>t.FlavoursPage)},{path:"manage-flavours",canActivate:[c],loadComponent:()=>import("./chunk-P5XKZ4R7.js").then(t=>t.ManageFlavourPage)},{path:"manage-flavours/:id",canActivate:[c],loadComponent:()=>import("./chunk-P5XKZ4R7.js").then(t=>t.ManageFlavourPage)}];var j=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=E({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,p){n&1&&(v(0,"ion-app"),w(1,"ion-router-outlet"),I())},dependencies:[M,$],encapsulation:2});let t=e;return t})();var G=(t,e)=>{let o=i(L);o.setContext("HttpInterceptor");let r=Date.now(),n=t.headers.get("X-Request-ID")||W(),p=t.headers.has("X-Request-ID")?t:t.clone({setHeaders:{"X-Request-ID":n}});return o.logHttpRequest(t.method,t.url,n,{headers:t.headers.keys().reduce((s,a)=>(s[a]=t.headers.get(a),s),{}),body:t.body}),e(p).pipe(h({next:s=>{if(s.type===R.Response){let a=Date.now()-r,d=s;o.logHttpResponse(t.method,t.url,d.status,a,n,d.body)}}}),m(s=>{let a=Date.now()-r;throw o.error(`HTTP ${t.method} ${t.url} failed after ${a}ms`,{status:s.status,statusText:s.statusText,message:s.message,url:s.url,duration:a,type:"http_error"},n),s}))};function W(){return`req-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}var B=(t,e)=>{let o=i(b);return e(t).pipe(m(r=>{let n=z(r);return t.headers.get("X-Handle-Own-Errors")==="true"||o.addError(n),J(r,t),u(()=>r)}))};function z(t){let e="unknown",o="An unexpected error occurred",r;return t.name==="TimeoutError"?(e="timeout",o="Request timed out. Please try again."):t instanceof l?(r=t.status,t.status===0?(e="network",o="Network connection failed. Please check your internet connection."):t.status>=400&&t.status<500?(e="unknown",o=`Client error: ${t.status} ${t.statusText}`):t.status>=500&&(e="server",o="Server error occurred. Please try again later.")):t instanceof Error&&(o=t.message||"An unexpected error occurred"),F.createApiError(e,o,r,t.message||t.toString())}function J(t,e){let o=e.headers.get("X-Request-ID")||"unknown";console.group(`\u274C Error - ${e.method} ${e.url}`),console.error("Request ID:",o),t instanceof l?(console.error("Status:",t.status),console.error("Status Text:",t.statusText),console.error("URL:",t.url),t.error&&console.error("Error Body:",t.error)):(console.error("Error Type:",t.name||"Unknown"),console.error("Error Message:",t.message||t.toString())),console.groupEnd()}var N=(t,e)=>{let o=t.headers.get("X-Timeout"),r=o?parseInt(o,10):X.soap.timeout;return e(t).pipe(g(r),m(n=>{if(n instanceof f){let p=new Error(`Request timed out after ${r}ms`);return p.name="TimeoutError",u(()=>p)}return u(()=>n)}))};y(j,{providers:[{provide:S,useClass:P},k({mode:"md"}),D(U,H(C)),T(x([N,G,B]))]});
