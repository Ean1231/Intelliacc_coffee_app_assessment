import{a as R,b as L,d as H,f as K,h as W,j as Z,k as q,m as G,n as J}from"./chunk-CF5QEULE.js";import"./chunk-6XSXO7E7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-62ANCUO6.js";import"./chunk-YDWIN6JP.js";import"./chunk-YYZX4MSL.js";import"./chunk-K7ANV5EX.js";import"./chunk-H5WCI56D.js";import"./chunk-MTHBQ3JQ.js";import"./chunk-7FY2OE2O.js";import"./chunk-NK6UWMPO.js";import"./chunk-KI2I3J5Z.js";import"./chunk-Q2WOCK7O.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-A6RYBWJQ.js";import"./chunk-CKP3SGE2.js";import"./chunk-Y7BKXW6A.js";import{d as N}from"./chunk-MHR5ZQEO.js";import{$ as b,A as s,B as d,D as y,G as h,H as F,J as f,K as n,L as o,M as c,Q as P,R as p,S as v,Z as I,_ as u,ba as O,ca as w,cb as V,da as S,db as z,eb as D,fb as A,ga as M,ha as k,hb as B,ib as U,ka as E,kb as $,la as T,t as _,u as x,va as j,z as C}from"./chunk-CFUTD7MG.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as g}from"./chunk-JHI3MBHO.js";function Y(r,a){if(r&1&&c(0,"img",25),r&2){let l=v().$implicit;f("src",l.photoData,C)}}function ee(r,a){r&1&&c(0,"img",26)}function te(r,a){if(r&1){let l=P();n(0,"div",15),p("click",function(){let t=_(l).$implicit,i=v();return x(i.selectCoffee(t))}),n(1,"div",16)(2,"div",17),u(3),O(4,"uppercase"),o(),n(5,"div",18),u(6),o(),n(7,"div",19)(8,"button",20),p("click",function(t){let i=_(l).$implicit;return v().editFlavour(i),x(t.stopPropagation())}),c(9,"ion-icon",21),o(),n(10,"button",20),p("click",function(t){let i=_(l).$implicit;return v().deleteFlavour(i),x(t.stopPropagation())}),c(11,"ion-icon",22),o()()(),n(12,"div",23),h(13,Y,1,1,"img",24)(14,ee,1,0,"ng-template",null,0,S),o()()}if(r&2){let l=a.$implicit,e=I(15);s(3),b(w(4,4,l.name)),s(3),b(l.barcode),s(7),f("ngIf",l.photoData)("ngIfElse",e)}}function ne(r,a){r&1&&(n(0,"div",27),c(1,"ion-icon",28),n(2,"h2"),u(3,"No coffee available"),o(),n(4,"p"),u(5,"Sorry, no coffee flavours are available at the moment."),o()())}var me=(()=>{let a=class a{constructor(e,t,i,m,Q,X){this.router=e,this.authService=t,this.alertController=i,this.db=m,this.zone=Q,this.toast=X,this.dbFlavours=[],R({cafe:H,refresh:W,add:L,createOutline:K,trashOutline:Z})}ionViewWillEnter(){this.dbFlavours=this.db.getFlavours()}trackByFlavourId(e,t){return t.id}selectCoffee(e){}logout(){this.authService.logout(),this.router.navigateByUrl("/login",{replaceUrl:!0})}onSync(){return g(this,null,function*(){yield(yield this.alertController.create({header:"Sync",message:"Syncing all application data... (demo)",buttons:["OK"]})).present()})}onAdd(){return g(this,null,function*(){this.router.navigate(["manage-flavours"])})}editFlavour(e){this.router.navigate(["manage-flavours",e.id])}deleteFlavour(e){return g(this,null,function*(){if(!this.dbFlavours.find(i=>i.id===e.id))return;yield(yield this.alertController.create({header:"Delete flavour",message:"Are you sure you want to delete this flavour?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{this.zone.run(()=>{this.db.deleteFlavour(e.id),this.dbFlavours=this.db.getFlavours(),this.toast.success("Flavour deleted")})}}]})).present()})}};a.\u0275fac=function(t){return new(t||a)(d(j),d(N),d(q),d(G),d(F),d(J))},a.\u0275cmp=y({type:a,selectors:[["app-flavours"]],decls:19,vars:4,consts:[["defaultImg",""],[3,"translucent"],[1,"toolbar-brown"],["slot","start"],["fill","clear",1,"circle-btn",3,"click"],["name","refresh"],["slot","end"],["name","add"],[1,"toolbar-shadow"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"flavours-list"],["class","flavour-card",3,"click",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"flavour-card",3,"click"],[1,"flavour-left"],[1,"flavour-name"],[1,"flavour-code"],[1,"flavour-actions"],[1,"action-btn",3,"click"],["name","create-outline"],["name","trash-outline"],[1,"flavour-right"],["alt","Coffee",3,"src",4,"ngIf","ngIfElse"],["alt","Coffee",3,"src"],["src","assets/images/Coffee.png","alt","Coffee"],[1,"empty-state"],["name","cafe","size","large"]],template:function(t,i){t&1&&(n(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3)(3,"ion-button",4),p("click",function(){return i.onSync()}),c(4,"ion-icon",5),o()(),n(5,"ion-title"),u(6,"COFFEE FLAVOURS"),o(),n(7,"ion-buttons",6)(8,"ion-button",4),p("click",function(){return i.onAdd()}),c(9,"ion-icon",7),o()()(),c(10,"ion-toolbar",8),o(),n(11,"ion-content",9)(12,"ion-header",10)(13,"ion-toolbar")(14,"ion-title",11),u(15,"Coffee Flavours"),o()()(),n(16,"div",12),h(17,te,16,6,"div",13)(18,ne,6,0,"div",14),o()()),t&2&&(f("translucent",!0),s(11),f("fullscreen",!0),s(6),f("ngForOf",i.dbFlavours),s(),f("ngIf",i.dbFlavours.length===0))},dependencies:[T,M,k,D,A,B,U,V,$,z,E],styles:[".toolbar-brown[_ngcontent-%COMP%]{--background: #7a412d;--color: #ffffff;--border-width: 0;text-transform:uppercase;letter-spacing:.5px}.toolbar-shadow[_ngcontent-%COMP%]{--background: #7a412d;height:4px;box-shadow:inset 0 -4px #5f2f1f}.circle-btn[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;background:#ffffff26;display:flex;align-items:center;justify-content:center}.flavours-content[_ngcontent-%COMP%]{--background: #f6f6f6}.flavours-list[_ngcontent-%COMP%]{padding:12px}.flavour-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e6e6e6;border-radius:2px;padding:12px;display:flex;align-items:center;justify-content:space-between;margin:12px 4px}.flavour-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.flavour-name[_ngcontent-%COMP%]{font-weight:700;color:#7a412d}.flavour-code[_ngcontent-%COMP%]{font-size:12px;color:#9aa0a6}.flavour-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:6px}.flavour-actions[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;color:#9aa0a6;fill:#9aa0a6;width:24px!important;height:24px!important}.action-btn[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:3px;background:#fff;display:inline-flex;align-items:center;justify-content:center}.flavour-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px}.dev-instructions[_ngcontent-%COMP%]{padding:12px 16px 28px;color:#8f8f8f;font-size:12px}.dev-instructions[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#b3b3b3;text-transform:uppercase}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--ion-color-medium)}"]});let r=a;return r})();export{me as FlavoursPage};
