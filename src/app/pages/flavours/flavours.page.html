<ion-header [translucent]="true">
  <ion-toolbar class="toolbar-brown">
    <ion-buttons slot="start">
      <ion-button class="circle-btn" fill="clear" (click)="onSync()">
        <ion-icon name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>COFFEE FLAVOURS</ion-title>
    <ion-buttons slot="end">
      <ion-button class="circle-btn" fill="clear" (click)="onAdd()">
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar class="toolbar-shadow"></ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Coffee Flavours</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="flavours-list">
    <div class="flavour-card" *ngFor="let flavour of dbFlavours; trackBy: trackByFlavourId" (click)="selectCoffee(flavour)">
      <div class="flavour-left">
        <div class="flavour-name">{{ flavour.name | uppercase }}</div>
        <div class="flavour-code">{{ flavour.barcode }}</div>
        <div class="flavour-actions">
          <button class="action-btn" (click)="editFlavour(flavour); $event.stopPropagation()">
            <ion-icon name="create-outline"></ion-icon>
          </button>
          <button class="action-btn" (click)="deleteFlavour(flavour); $event.stopPropagation()">
            <ion-icon name="trash-outline"></ion-icon>
          </button>
        </div>
      </div>
      <div class="flavour-right">
        <img *ngIf="flavour.photoData; else defaultImg" [src]="flavour.photoData" alt="Coffee" />
        <ng-template #defaultImg>
          <img src="assets/images/Coffee.png" alt="Coffee" />
        </ng-template>
      </div>
    </div>

    <div *ngIf="dbFlavours.length === 0" class="empty-state">
      <ion-icon name="cafe" size="large"></ion-icon>
      <h2>No coffee available</h2>
      <p>Sorry, no coffee flavours are available at the moment.</p>
    </div>
  </div>

</ion-content>
